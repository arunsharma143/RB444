@model RB444.Data.Entities.SeriesSetting;
@{
    ViewData["Title"] = "CreateSeries";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<h2>Create Series</h2>
<form id="request-form" autocomplete="off" class="" method="post">
    <div class="form-horizontal">
        <hr />
        <div class="errorTxt"><span id="errorMsg"></span></div>
        <div class="form-group align-items-center d-flex">
            <label class="control-label col-md-2" asp-for="SportName">Sport Name</label>
            <div class="col-md-10">
                <select asp-for="SportName" class="form-control ddlSportName">
                    <option value="0">Please Select Sport</option>
                    @foreach (var item in ViewBag.SportsList)
                    {
                        <option>@item.group</option>
                    }
                </select>
            </div>
        </div>
        <div class="form-group align-items-center d-flex">
            <label class="control-label col-md-2" asp-for="SeriesName">Series Name</label>
            <div class="col-md-10">
                <input type="text" asp-for="SeriesName" class="form-control" id="SeriesName" placeholder="Series Name" />
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" id="submitDetalis" class="btn btn-primary font-weight-bold" />
            </div>
        </div>
    </div>
</form>
<div>
    @Html.ActionLink("Back to List", "SeriesSetting")
</div>
@section PageJs{

    @*<script type="text/javascript">
        $(document).ready(function () {
            $("#submitDetalis").click(function () {
                debugger;
                const ddlId = $("#ddlSportName").val();
                const seriesName = $("#SeriesName").val();
                if (ddlId == 0 || ddlId == '') {
                    $("#errorMsg").text("Please select sports list.");
                }
                else if (seriesName.trim() == '') {
                    $("#errorMsg").text("Please fill sports name.");
                }
                else {
                    $("#errorMsg").text("");
                    var data = {
                        Sport_name: ddlId,
                        Name: seriesName.trim(),
                        Action: true
                    };
                    $.ajax({
                        type: "POST",
                        url: "/setting/CreateSeries",
                        data: JSON.stringify(data),
                        dataType: "json",
                        contentType: 'application/json; charset=utf-8',
                        success: function (response) {
                            if (response.Inserted) {
                                window.location.href = response.Url;
                            }
                            else {
                                alert("Error occured!!")
                            }
                        },
                        error: function () {
                            alert("Error occured!!")
                        }
                    });
                }
            });

        });
    </script>*@
}
